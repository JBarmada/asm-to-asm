//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

// ------------------------ Structures ------------------------

struct _IO_FILE {
    int32_t e0;
};

// ------------------- Function Prototypes --------------------

int64_t __do_global_dtors_aux(void);
int64_t _fini(void);
int64_t _init(void);
int64_t _start(int64_t a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5, int64_t a6);
int64_t deregister_tm_clones(void);
int64_t frame_dummy(void);
void function_1060(int64_t * d);
int32_t function_1070(int32_t c, struct _IO_FILE * stream);
int64_t * function_1080(int64_t delta);
void function_1090(int32_t status);
void libmin_puts(char * s);
void libmin_success(void);
void libtarg_fail(int32_t code);
void libtarg_putc(char c);
char * libtarg_sbrk(int64_t inc);
void libtarg_success(void);
int64_t register_tm_clones(void);

// --------------------- Global Variables ---------------------

struct _IO_FILE * g1 = NULL; // 0x4010
char g2 = 0; // 0x4018
int32_t g3;

// ------- Dynamically Linked Functions Without Header --------

void __cxa_finalize(int64_t * a1);
void __gmon_start__(void);
int32_t __libc_start_main(int64_t a1, int32_t a2, char ** a3, void (*a4)(), void (*a5)(), void (*a6)());

// ------------------------ Functions -------------------------

// Address range: 0x1000 - 0x101b
int64_t _init(void) {
    int64_t result = 0; // 0x1012
    if (*(int64_t *)0x3fe8 != 0) {
        // 0x1014
        __gmon_start__();
        result = &g3;
    }
    // 0x1016
    return result;
}

// Address range: 0x1060 - 0x106b
void function_1060(int64_t * d) {
    // 0x1060
    __cxa_finalize(d);
}

// Address range: 0x1070 - 0x107b
int32_t function_1070(int32_t c, struct _IO_FILE * stream) {
    // 0x1070
    return fputc(c, stream);
}

// Address range: 0x1080 - 0x108b
int64_t * function_1080(int64_t delta) {
    // 0x1080
    return sbrk(delta);
}

// Address range: 0x1090 - 0x109b
void function_1090(int32_t status) {
    // 0x1090
    exit(status);
}

// From module:   /home/jad/asm-to-asm/bringup-bench/quine/quine.c
// Address range: 0x10a0 - 0x10c0
// Line range:    5 - 5
int main() {
    // 0x10a0
    libmin_puts("#include \"libmin.h\"\n#define B(x)int main(){libmin_puts(\"#include \\\"libmin.h\\\"\\n#define B(x)\"x\"\\n#define X(s)S(s)\\n#define S(s)#s\\nB(X(B(x)))\\n\");libmin_success(); return 0;}\n#define X(s)S(s)\n#define S(s)#s\nB(X(B(x)))\n");
    libmin_success();
    // UNREACHABLE
}

// Address range: 0x10c0 - 0x10e6
int64_t _start(int64_t a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5, int64_t a6) {
    // 0x10c0
    int64_t v1; // 0x10c0
    __libc_start_main(0x10a0, (int32_t)a6, (char **)&v1, NULL, NULL, (void (*)())a3);
    __asm_hlt();
    // UNREACHABLE
}

// Address range: 0x10f0 - 0x1119
int64_t deregister_tm_clones(void) {
    // 0x10f0
    return (int64_t)&g1;
}

// Address range: 0x1120 - 0x1159
int64_t register_tm_clones(void) {
    // 0x1120
    return 0;
}

// Address range: 0x1160 - 0x1199
int64_t __do_global_dtors_aux(void) {
    // 0x1160
    if (g2 != 0) {
        // 0x1198
        int64_t result; // 0x1160
        return result;
    }
    // 0x116d
    if (*(int64_t *)0x3ff8 != 0) {
        // 0x117b
        __cxa_finalize((int64_t *)*(int64_t *)0x4008);
    }
    int64_t result2 = deregister_tm_clones(); // 0x1187
    g2 = 1;
    return result2;
}

// Address range: 0x11a0 - 0x11a9
int64_t frame_dummy(void) {
    // 0x11a0
    return register_tm_clones();
}

// From module:   /home/jad/asm-to-asm/bringup-bench/ackermann/libtarg.c
// Address range: 0x11b0 - 0x11c1
// Line range:    124 - 127
void libtarg_success(void) {
    // 0x11b0
    exit(0);
    // UNREACHABLE
}

// From module:   /home/jad/asm-to-asm/bringup-bench/ackermann/libtarg.c
// Address range: 0x11d0 - 0x11df
// Line range:    162 - 165
void libtarg_fail(int32_t code) {
    // 0x11d0
    exit(code);
}

// From module:   /home/jad/asm-to-asm/bringup-bench/ackermann/libtarg.c
// Address range: 0x11e0 - 0x11f4
// Line range:    188 - 191
void libtarg_putc(char c) {
    // 0x11e0
    fputc((int32_t)c, g1);
}

// From module:   /home/jad/asm-to-asm/bringup-bench/ackermann/libtarg.c
// Address range: 0x1200 - 0x1209
// Line range:    230 - 236
char * libtarg_sbrk(int64_t inc) {
    // 0x1200
    return (char *)sbrk(inc);
}

// From module:   /home/jad/asm-to-asm/bringup-bench/ackermann/libmin_puts.c
// Address range: 0x1210 - 0x123d
// Line range:    5 - 9
void libmin_puts(char * s) {
    // 0x1210
    int64_t v1; // 0x1210
    if ((char)v1 == 0) {
        // 0x1232
        libtarg_putc(10);
        return;
    }
    int64_t v2 = (int64_t)s; // 0x1225
    libtarg_putc((char)(0x100000000000000 * v1 >> 56));
    v2++;
    char v3 = *(char *)v2; // 0x1225
    int64_t v4 = v3; // 0x1230
    while (v3 != 0) {
        // 0x1220
        libtarg_putc((char)v4);
        v2++;
        v3 = *(char *)v2;
        v4 = v3;
    }
    // 0x1232
    libtarg_putc(10);
}

// From module:   /home/jad/asm-to-asm/bringup-bench/ackermann/libmin_success.c
// Address range: 0x1240 - 0x1249
// Line range:    5 - 7
void libmin_success(void) {
    // 0x1240
    libtarg_success();
}

// Address range: 0x124c - 0x1259
int64_t _fini(void) {
    // 0x124c
    int64_t result; // 0x124c
    return result;
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: gcc (11.4.0)
// Detected functions: 18

